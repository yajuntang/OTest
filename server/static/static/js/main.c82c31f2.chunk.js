(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{341:function(e,t,a){e.exports=a(665)},346:function(e,t,a){},351:function(e,t,a){e.exports=a.p+"static/media/style.1d86487c.less"},575:function(e,t,a){e.exports=a.p+"static/media/index.9a95c43c.less"},597:function(e,t,a){e.exports=a.p+"static/media/index.c431906e.less"},600:function(e,t,a){e.exports=a.p+"static/media/index.36f93a38.less"},665:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i);a(346),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(20),s=a(24),c=a(26),d=a(25),u=a(27),p=a(335),f=a(84),m=(a(148),a(37)),h=(a(102),a(4)),g=(a(126),a(39));a(351);var v=g.a.Header,y=g.a.Sider,_=g.a.Content,k=[{icon:"user",title:"\u7248\u672c\u8ba1\u5212",path:"/test_pages"},{icon:"user",title:"\u6d4b\u8bd5\u8ba1\u5212",path:"/test_plans"},{icon:"user",title:"\u6267\u884c\u8ba1\u5212",path:"/test_exec"},{icon:"user",title:"\u65b0\u624b\u6559\u7a0b",path:"/guide"}],E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.defaultSelectedKeys=[],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname;return"/"===t&&(t="/test_pages"),this.defaultSelectedKeys.pop(),this.defaultSelectedKeys.push(t),r.a.createElement(g.a,null,r.a.createElement(y,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{style:{display:"flex",height:32,justifyContent:"center",alignItem:"center",background:" rgba(255, 255, 255, 0.2)",margin:16}},r.a.createElement("p",{style:{color:"#fff",fontSize:20}},this.state.collapsed?"YA":"YA-TEST")),r.a.createElement(m.a,{theme:"dark",mode:"inline",defaultSelectedKeys:this.defaultSelectedKeys},k&&k.map((function(t){return r.a.createElement(m.a.Item,{key:t.path,onClick:function(){return e.props.history.replace(t.path)}},r.a.createElement(h.a,{type:t.icon}),r.a.createElement("span",null,t.title))})))),r.a.createElement(g.a,{id:"rootLayout"},r.a.createElement(v,{style:{background:"#fff",padding:0}},r.a.createElement(h.a,{style:{fontSize:"18px",lineHeight:"64px",padding:"0 24px",cursor:"pointer",transition:" color 0.3s"},type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(_,null,this.props.children)))}}]),t}(n.Component),b=(a(155),a(44)),w=(a(157),a(54)),S=(a(89),a(55)),x=(a(158),a(73)),I=(a(90),a(64)),C=(a(260),a(189)),O=a(48),j=a(22);a(50);function T(e,t){if(e)for(var a=0;a<e.length;a++){var n=e[a];t[n.plan_id]=n,n.children&&T(n.children,t)}}function A(e,t){if(e){for(var a=0;a<e.length;a++){var n=e[a];t[n.key]=n,n.children&&A(n.children,t)}delete t.undefined}}a(135);var P=a(47),D=a(181),M=(a(136),a(46)),N=M.a.Option,L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={confirmLoading:!1},a.handlerOk=function(){var e=a.props,t=e.form,n=e.onOk;t.validateFields((function(e,r){e||n&&(a.setState({confirmLoading:!0}),n(r,(function(e){e&&t.resetFields(),a.setState({confirmLoading:!1})})))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.onCancel,i=t.form,o=t.title,l=t.okText,s=t.fields,c=t.maskClosable,d=void 0!==c&&c,u=i.getFieldDecorator;return n.createElement(x.a,{visible:a,title:o,okText:l,maskClosable:d,onCancel:r,confirmLoading:this.state.confirmLoading,onOk:this.handlerOk},n.createElement(P.a,{layout:"vertical"},s.filter((function(e){return!e.disabled})).map((function(t){return n.createElement(P.a.Item,{label:t.label,key:t.field,style:{width:t.width?t.width:"100%"}},u(t.field,Object(j.a)({},t.props?t.props.decorator:{}))(t.selectData?n.createElement(M.a,{onChange:function(a){e.props.form.setFieldsValue(Object(D.a)({},t.field,a))}},t.selectData.map((function(e,t){return n.createElement(N,{value:e.value,key:t},e.name)}))):n.createElement(I.a,t.props)))}))))}}]),t}(n.Component),K=P.a.create()(L),V=(a(231),a(82)),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).menu=n.createElement(m.a,{onClick:a.props.onClick},n.createElement(m.a.Item,{key:"add"},"\u6dfb\u52a0"),n.createElement(m.a.Item,{key:"copy"},"\u590d\u5236"),n.createElement(m.a.Item,{key:"del"},"\u5220\u9664")),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.menu,a=e.children,r=e.onClick,i=n.createElement(m.a,null,t.map((function(e){return n.createElement(m.a.Item,{onClick:r,key:e.key},e.name)})));return n.createElement(V.a,Object.assign({},this.props,{overlay:i}),a)}}]),t}(n.Component),F=(a(320),a(142)),z=(a(79),a(29)),B=a(337),q=a(176),W=(a(202),a(74));a(575);var Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).loadingIcon=r.a.createElement(h.a,{type:"loading"}),a.label={},a.getLabel=function(e,t){var n=e.label,i=e.icon,o=e.loading,l=e.color,s=e.disabled;if(o){var c=a.label[t]?a.label[t].offsetWidth:"auto";return r.a.createElement("a",{className:"operator-label",style:{display:"inline-block",width:c,textAlign:"center"}},a.loadingIcon)}var d={};return l&&(d.color=l),i&&(n=r.a.createElement(W.a,{placement:"bottom",title:n},r.a.createElement(h.a,{style:{fontSize:16},type:i}))),r.a.createElement("a",{className:"operator-label ".concat(s?"operator-label-disabled":""),style:d,ref:function(e){return a.label[t]=e}},n)},a.getConfirm=function(e,t){var n=a.getLabel(e,t),i=e.confirm,o=e.withKey;return(void 0===o||o)&&(n=r.a.createElement("span",{onClick:function(e){(e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),i&&i.onConfirm&&i.onConfirm(e))}},n)),r.a.createElement(F.a,i,n)},a.getText=function(e,t){var n=a.getLabel(e,t),i=e.onClick;return e.label.type,r.a.createElement("span",{onClick:i},n)},a.getStatusSwitch=function(e,t){var n=e.statusSwitch,i=e.disabled,o=void 0!==i&&i,l=n.status,s=Object(j.a)({},n),c=l?"check-circle":"minus-circle-o",d=l?"green":"red",u=r.a.createElement(h.a,{type:c}),p=a.getLabel(Object(j.a)({},e,{label:u,color:d}),t);return o?p:(Reflect.deleteProperty(s,"status"),r.a.createElement(F.a,s,p))},a.getItem=function(e,t){var n=e.confirm,r=e.statusSwitch,i=e.visible,o=void 0===i||i,l=e.disabled,s=void 0!==l&&l;return o?s&&r?a.getStatusSwitch(e,t):s?(e.color="#ccc",a.getLabel(e,t)):n?a.getConfirm(e,t):r?a.getStatusSwitch(e,t):a.getText(e,t):null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.moreText,i=t.moreContentWidth,o=t.moreTrigger,l=[],s=[];if("string"===typeof o&&(o=[o]),a.forEach((function(t,a){var n=t.isMore,r=e.getItem(t,a);r&&(n?s.push(r):l.push(r))})),s&&s.length){var c=r.a.createElement(m.a,{style:{width:i}},s.map((function(e,t){return r.a.createElement(m.a.Item,{key:e.label||t},e)})));l.push(r.a.createElement(V.a,{overlay:c,trigger:o},r.a.createElement("a",{className:"operator-label"},n)))}var d=l.length;return d?r.a.createElement("span",null,l.map((function(e,t){return r.a.createElement("span",{key:e.label||"operator-".concat(t),style:{marginLeft:16}},e,d===t+1?"":r.a.createElement("span",{className:"operator-divider"}))}))):null}}]),t}(n.Component);Y.defaultProps={items:[],moreText:r.a.createElement("span",null,"\u66f4\u591a",r.a.createElement(h.a,{type:"down"})),moreContentWidth:"auto",moreTrigger:"click"};a(301);var U=a(188),H=a(125),G=(a(581),a(143)),J=a.n(G),Q=(a(305),a(192)),Z=(a(667),a(198)),$=(a(590),a(329)),X=(a(592),a(338)),ee=(a(302),a(100)),te=(a(174),a(42)),ae=(a(306),a(187)),ne=(a(595),a(336));a(597);var re=I.a.TextArea,ie=I.a.Password,oe=P.a.Item;var le=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.labelWidth;if(void 0!==e){var t=this.container.querySelector(".ant-form-item-label");t&&(t.style.flexBasis="string"===typeof e?e:"".concat(e,"px"))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.form,n=t.colon,i=t.extra,o=t.hasFeedback,l=t.help,s=t.label,c=(t.labelWidth,t.width),d=t.labelCol,u=t.required,p=t.validateStatus,f=t.wrapperCol,m=t.field,h=t.decorator,g=t.children,v=Object(H.a)(t,["form","colon","extra","hasFeedback","help","label","labelWidth","width","labelCol","required","validateStatus","wrapperCol","field","decorator","children"]),y=a.getFieldDecorator,_={width:"100%"};return void 0!==c&&(_.width=c),v.style&&(_=Object(j.a)({},_,{},v.style)),r.a.createElement("div",{ref:function(t){return e.container=t}},r.a.createElement(oe,{colon:n,extra:i,hasFeedback:o,help:l,label:s,labelCol:d,required:u,validateStatus:p,wrapperCol:f},y(m,h)(function(e){var t=e.type,a=void 0===t?"input":t,n=e.component,i=Object(H.a)(e,["type","component"]);if(n)return"function"===typeof n?n():n;if(function(e){return["input","hidden","number","textarea","password","mobile","email"].includes(e)}(a))return"number"===a?r.a.createElement(ne.a,i):"textarea"===a?r.a.createElement(re,i):"password"===a?r.a.createElement(ie,i):r.a.createElement(I.a,Object.assign({type:a},i));if("select"===a){var o=i.options,l=void 0===o?[]:o,s=Object(H.a)(i,["options"]);return r.a.createElement(M.a,s,l.map((function(e){return r.a.createElement(M.a.Option,Object.assign({key:e.value},e),e.label)})))}if("select-tree"===a)return r.a.createElement(ae.a,Object.assign({},i,{treeData:i.options}));if("checkbox-group"===a)return r.a.createElement(te.a.Group,i);if("radio-group"===a)return r.a.createElement(ee.a.Group,i);if("cascader"===a)return r.a.createElement(X.a,i);if("checkbox"===a)return r.a.createElement(te.a,i,i.label);if("radio"===a)return r.a.createElement(ee.a,i,i.label);if("switch"===a)return r.a.createElement($.a,Object.assign({},i,{style:Object(j.a)({},i.style,{width:"auto"})}));if("date"===a)return r.a.createElement(Z.a,i);if("date-range"===a)return r.a.createElement(Z.a.RangePicker,i);if("month"===a)return r.a.createElement(Z.a.MonthPicker,i);if("time"===a)return r.a.createElement(Q.a,i);throw new Error("no such type: ".concat(a))}(Object(j.a)({},v,{style:_}))),g))}}]),t}(n.Component),se=a(2),ce=a.n(se);a(600);var de=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={},a.renderColumns=function(e,t,n){var i=n.dataIndex,o=n.props;if(!o)return e;var l=t.editable,s=void 0===l||l,c=t.showEdit;if(!1===s||!1===(void 0===c||c))return e;if(s&&s.length&&-1===s.indexOf(i))return e;o.dataIndex&&(i=o.dataIndex);var d=a.props,u=d.onChange,p=d.form,f=d.rowKey,m=t[f];o.field="".concat(i,"-").concat(m),o.colon=!1,o.label=void 0===o.label?" ":o.label,o.labelWidth=void 0===o.labelWidth?20:o.labelWidth,t.__form_fields||(t.__form_fields=new Set),t.__form_fields.add(o.field),t.__validate||(t.__validate=function(e,n){n||(n=e,e=void 0);var r=Array.from(t.__form_fields);e&&(r=e.map((function(e){return"".concat(e,"-").concat(m)}))),a.props.form.validateFieldsAndScroll(r,(function(e,t){var a={};Object.keys(t).forEach((function(e){var n=e.split("-")[0];a[n]=t[e]})),n(e,a)}))}),t.save||(t.save=function(e){t.__validate((function(n,r){if(!n){var i=Object(j.a)({},t,{},r,{showEdit:!1}),o=Object(O.a)(a.props.dataSource),l=o.findIndex((function(e){return e.id===i.id}));o.splice(l,1,i),e?e(o,(function(){u(o)})):u(o)}}))}),t.cancel||(t.cancel=function(){var e=a.props.columns,n=Object(O.a)(a.props.dataSource),r=!0;if(e&&e.length){var i=n.find((function(e){return e.id===t.id}));e.forEach((function(e){var t=e.dataIndex;t&&i[t]&&(r=!1)}))}if(r){var o=n.filter((function(e){return e.id!==t.id}));u(o)}else{n.find((function(e){return e.id===t.id})).showEdit=!1,u(n)}});var h={};return h.initialValue=t[i],r.a.createElement(le,Object.assign({form:p},o,{decorator:Object(j.a)({},o.decorator,{},h)}))},a.handleAddNewRow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J()(),t=a.props,n=t.dataSource,r=t.onChange,i=t.columns,o=t.rowKey,l=t.newRecord,s=Object(j.a)({__add:!0},l);i&&i.length&&i.forEach((function(e){var t=e.dataIndex;t&&(s[t]=void 0)})),s[o]=J()(),s[e]=e,r([].concat(Object(O.a)(n),[Object(j.a)({},s)]))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.formRef,a=e.form,n=e.tabRef;t&&t(a),n&&n(this)}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.dataSource,i=(a.onChange,a.style,a.formRef,a.className),o=a.rowKey,l=a.showAdd,s=a.addText,c=a.emptyText,d=a.footer,u=Object(H.a)(a,["dataSource","onChange","style","formRef","className","rowKey","showAdd","addText","emptyText","footer"]),p=Object(O.a)(n),f=this.props.columns.map((function(e){var a=e.render;return Object(j.a)({},e,{render:function(n,r){return a&&(n=a(n,r)),t.renderColumns(n,r,e)}})})),m=ce()("sx-table-editable",i);return d&&(e=d),l&&(e=function(){return r.a.createElement(z.a,{icon:"plus",style:{width:"100%",height:"80px",lineHeight:"80px"},type:"dashed",onClick:t.handleAddNewRow},s)}),r.a.createElement(U.a,Object.assign({className:m,bordered:!1,pagination:!1},u,{locale:{emptyText:c},columns:f,dataSource:p,rowKey:o,footer:e}))}}]),t}(n.Component);de.defaultProps={rowKey:"id",dataSource:[],showAdd:!0,addText:"\u6dfb\u52a0",onChange:function(){return!0}};var ue=P.a.create()(de),pe=function(e){function t(){var e,a,n=this;Object(l.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={dataSource:[],pageName:"\u9875\u9762",pageInfo:void 0},a.fieldsColumns=[{title:"\u53d8\u91cf\u540d",dataIndex:"name",key:"name",width:"33%",props:{type:"input",placeholder:"\u8bf7\u8f93\u5165\u53d8\u91cf\u540d",decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u53d8\u91cf\u540d\uff01"},{validator:function(e,t,a){var n=RegExp(/^(_|[a-z]|[A-Z]).*/);!t||n.test(t)?a():a("\u5fc5\u987b\u4e0b\u5212\u7ebf\u6216\u5b57\u6bcd\u5f00\u5934")}}]},onPressEnter:function(e){e.target.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("input")[1].focus()}}},{title:"\u53d8\u91cf\u503c",dataIndex:"value",key:"value",width:"33%",props:{type:"input",placeholder:"\u8bf7\u8f93\u5165",decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u53d8\u91cf\u503c\uff01"}],onKeyUp:function(e){console.log(e)}}}},{title:"\u64cd\u4f5c",render:function(e,t){var n=t.showEdit,i=void 0===n||n,o=t.editable,l=void 0===o||o,s=Object(q.a)(a);if(!a.props.disable){if(i&&l)return r.a.createElement(Y,{items:[{label:"\u4fdd\u5b58",onClick:function(){t.save((function(e,t){console.log(e);var a=e.filter((function(e){return e.name})).map((function(e){return{id:e.id,name:e.name,value:e.value}})),n=s.props.onSave;n?n(a,t):t()}))}},{label:"\u53d6\u6d88",onClick:t.cancel}]});var c=t.id,d=t.value,u=t.name,p={label:"\u5220\u9664",color:"red",confirm:{title:'\u60a8\u786e\u5b9a\u8981\u5220\u9664"'.concat(u||d,'"\u5417\uff1f'),onConfirm:f}};return d||u||(Reflect.deleteProperty(p,"confirm"),p.onClick=f),r.a.createElement(Y,{items:[{label:"\u7f16\u8f91",disabled:!1===l,onClick:function(){var e=Object(O.a)(s.state.dataSource);e.find((function(e){return e.id===t.id})).showEdit=!0,s.setState({dataSource:e})}},p]})}function f(){var e=[s.state.dataSource.find((function(e){return e.id===c}))].map((function(e){return{id:e.id,name:e.name,value:e.value}})),t=s.props.onDel;if(t)t(e,(function(){var e=s.state.dataSource.filter((function(e){return e.id!==c}));s.setState({dataSource:e})}));else{var a=s.state.dataSource.filter((function(e){return e.id!==c}));s.setState({dataSource:a})}}}}],a.validate=function(){var e=[a.props.form,a.fieldsTableForm].map((function(e){return new Promise((function(t,a){e.validateFieldsAndScroll((function(e,n){e?a(e):t(n)}))}))}));return Promise.all(e).then((function(e){return Object(B.a)(e,1)[0]}))},a.renderTableTitle=function(e){var t=a.props.disable;return r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:20,color:"#333",fontWeight:"bold"}},"\u914d\u7f6e".concat(a.state.pageName,"\u53d8\u91cf")),!t&&r.a.createElement(b.a,{type:"flex",justify:"end",style:{marginBottom:8,marginRight:16}},r.a.createElement(w.a,null,r.a.createElement(n.ClearTable,{field:e,type:"link"})),r.a.createElement(w.a,null,r.a.createElement("a",{style:{marginLeft:8,color:"#1890ff"},type:"primary",onClick:function(){return a.handleAdd()}},"\u6dfb\u52a0"))))},a.ClearTable=function(e){e.field;var t=e.type,n=void 0===t?"danger":t,i=a.state.dataSource;return!i||!i.length||1===i.length&&!i[0].title?null:r.a.createElement(F.a,{title:"\u60a8\u786e\u8ba4\u6e05\u7a7a\u5417\uff1f",onConfirm:function(){return a.setState({dataSource:[]})}},"link"===n?r.a.createElement("a",{style:{marginLeft:8,color:"red"}},"\u6e05\u7a7a"):r.a.createElement(z.a,{style:{marginLeft:8},type:n},"\u6e05\u7a7a"))},a.handleAdd=function(){a.tab.handleAddNewRow()},a.handleChange=function(e){a.setState({dataSource:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(!this.comparePageInfo(this.props.pageInfo,e.pageInfo)){var t=e.pageInfo;t&&(t.data.forEach((function(e){return e.showEdit=!1})),console.log("componentWillReceiveProps",t.data),this.setState({dataSource:t.data,pageName:"\u3010".concat(t.title,"\u3011"),pageInfo:t}))}}},{key:"comparePageInfo",value:function(e,t){if(e.key!==t.key)return!1;if(e.data.length!==t.data.length)return!1;for(var a in e.data)if(e.data[a].name!==t.data[a].name||e.data[a].value!==t.data[a].value)return!1;return!0}},{key:"componentWillMount",value:function(){var e=this.props,t=e.formRef,a=e.form,n=e.validate,r=e.pageInfo;if(t&&t(a),n&&n(this.validate),r){for(var i in r.data)r.data[i].showEdit=!1;this.setState({dataSource:r.data,pageName:"\u3010".concat(r.title,"\u3011"),pageInfo:r})}}},{key:"render",value:function(){var e=this,t=this.props.emptyText,a=void 0===t?"\u6682\u65e0\u6570\u636e":t;return r.a.createElement("div",{style:{padding:16,background:"#fff",height:"100%"}},this.renderTableTitle("fields"),r.a.createElement(P.a,null,r.a.createElement(ue,{tabRef:function(t){return e.tab=t},style:{background:"#fff"},size:"small",emptyText:a,onChange:this.handleChange,dataSource:this.state.dataSource,showAdd:!1,formRef:function(t){return e.fieldsTableForm=t},columns:this.fieldsColumns})))}}]),t}(n.Component),fe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),t}(r.a.Component),me=a(197),he=a.n(me),ge=a(332),ve=(a(235),a(99)),ye=function e(){Object(l.a)(this,e)};function _e(e){var t=e.error,a=e.errorTip;if(!1!==a){var n=function(e){var t=e.error,a=e.errorTip;if(a&&!0!==a)return a;if(t&&t.response){var n=t.response,r=n.status,i=n.message;if(i)return i;if(403===r)return ye.noAccess;if(404===r)return ye.notFound;if(504===r)return ye.serverBusy;if(500===r)return ye.serverBusy}return t&&t.message&&t.message.startsWith("timeout of")?ye.timeOut:t?t.message:ye.serverBusy}({error:t,errorTip:a});ve.a.error({message:ye.error,description:n})}}ye.success="\u6210\u529f",ye.error="\u5931\u8d25",ye.noAccess="\u65e0\u6743\u8bbf\u95ee\u6b64\u8d44\u6e90",ye.notFound="\u8bbf\u95ee\u8d44\u6e90\u4e0d\u5b58\u5728",ye.serverBusy="\u670d\u52a1\u5668\u7e41\u5fd9",ye.timeOut="\u8d85\u65f6";var ke=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.onShowSuccessTip,n=void 0===a?function(){return!0}:a,r=t.onShowErrorTip,i=void 0===r?function(){return!0}:r;t.isMock;Object(l.a)(this,e),this.instance=he.a.create(),this.mockInstance=he.a.create(),this.setDefaultOption(this.instance),this.setDefaultOption(this.mockInstance),this.defaults=this.instance.defaults,this.onShowSuccessTip=n,this.onShowErrorTip=i}return Object(s.a)(e,[{key:"setDefaultOption",value:function(e){e.defaults.timeout=1e4,e.defaults.headers.post["Content-Type"]="application/json",e.defaults.headers.put["Content-Type"]="application/json",e.defaults.baseURL="/"}},{key:"request",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a||{},o=r=r||{},l=o.successTip,s=void 0!==l&&l,c=o.errorTip,d=o.noEmpty,u=void 0!==d&&d;if(!0===u&&"object"===typeof i&&!Array.isArray(i)){var p={};Object.keys(i).forEach((function(e){var t=i[e];null!==t&&""!==t&&void 0!==t&&(p[e]=t)})),i=p}var f,m=he.a.CancelToken,h="get"===n,g=this.instance,v=g.defaults.headers[n]["Content-Type"]||"",y=r.headers&&r.headers["Content-Type"]||"";(v&&v.indexOf("application/x-www-form-urlencoded")>-1||y.indexOf("application/x-www-form-urlencoded")>-1)&&(i=Object(ge.stringify)(i));var _={};h&&(_=i,i={});var k=new Promise((function(a,o){g(Object(j.a)({method:n,url:e,data:i,params:_,cancelToken:new m((function(e){return f=e}))},r)).then((function(e){if(e.data.code&&1!==e.data.code){var n=e.data.desc;t.onShowErrorTip(e.data,n||"\u672a\u77e5\u9519\u8bef"),o(e.data)}else{var r=s;!r&&e.data.desc&&(r=e.data.desc),t.onShowSuccessTip(e,r),a(e.data,e)}}),(function(e){e&&e.message&&e.message.canceled||(t.onShowErrorTip(e,c),o(e))})).catch((function(e){o(e)}))}));return k.cancel=function(){f({canceled:!0})},k}},{key:"get",value:function(e,t,a){return this.request(e,t,"get",a)}},{key:"post",value:function(e,t,a){return this.request(e,t,"post",a)}},{key:"put",value:function(e,t,a){return this.request(e,t,"put",a)}},{key:"patch",value:function(e,t,a){return this.request(e,t,"patch",a)}},{key:"del",value:function(e,t,a){return this.request(e,t,"delete",a)}}]),e}())({onShowErrorTip:function(e,t){return _e({error:e,errorTip:t})},onShowSuccessTip:function(e,t){return function(e){var t=e.successTip;t&&ve.a.success({message:ye.success,description:t})}({successTip:t})}});ke.defaults.baseURL="http://localhost:9000",ke.defaults.timeout=3e4,ke.instance.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}));var Ee=g.a.Content,be=C.a,we=I.a,Se=be.TreeNode,xe=we.Search,Ie=x.a.confirm,Ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).dataList=[],a.state={expandedKeys:[],searchValue:"",autoExpandParent:!0,collapsed:!1,data:void 0,menuItemIndex:0,pages:void 0,nodeKey:void 0,showAddVersionModal:!1,showCopyVersionModal:!1,confirmLoading:!1},a.version_modal_field=[{label:"\u7248\u672c\u540d\u79f0",field:"version_name",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]}}},{label:"\u9875\u9762\u6839\u8def\u5f84",field:"path",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9875\u9762\u8ddf\u8def\u5f84"}]}}}],a.copy_version_modal_field=[{label:"\u7248\u672c\u540d\u79f0",field:"version_name",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]}}},{label:"\u539f\u9875\u9762\u6839\u8def\u5f84",field:"old_path",props:{disabled:!0,decorator:{}}},{label:"\u9875\u9762\u6839\u8def\u5f84",field:"path",props:{decorator:{}}}],a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onChange=function(e){var t=e.target.value,n=a.dataList.map((function(e){return e.title.indexOf(t)>-1?function e(t,a){for(var n,r=0;r<a.length;r++){var i=a[r];i.children&&(i.children.some((function(e){return e.key===t}))?n=i.key:e(t,i.children)&&(n=e(t,i.children)))}return n}(e.key,a.state.pages):null})).filter((function(e,t,a){return e&&a.indexOf(e)===t}));a.setState({expandedKeys:n,searchValue:t,autoExpandParent:!0})},a.onSelected=function(e){var t=a.getNodeByKey(e[0])&&a.getNodeByKey(e[0]).key;a.setState({nodeKey:t})},a.onDelVersion=function(){a.setState({loading:!0}),ke.post("/del_version",{version_id:a.state.data[a.state.menuItemIndex].version_id}).then((function(e){1===e.code&&a.get_pages()})).finally((function(){return a.setState({loading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getNodeByKey",value:function(e){var t=this.dataList.find((function(t){return t.key===e}));return t&&t.data}},{key:"showCopyVersionModal",value:function(){var e=this.state.data[this.state.menuItemIndex];this.copy_version_modal_field[0].props.decorator.initialValue="Copy of "+e.name,this.copy_version_modal_field[1].props.decorator.initialValue=e.path,this.copy_version_modal_field[2].props.decorator.initialValue=e.path,this.setState({showCopyVersionModal:!0})}},{key:"onSavePageData",value:function(e,t){var a=this;ke.post("/save_page_data",{version_id:this.state.data[this.state.menuItemIndex].version_id,node_key:this.state.nodeKey,data:e}).then((function(e){1===e.code&&(t(),a.get_pages())})).finally((function(){return a.setState({loading:!1})}))}},{key:"onDelPageData",value:function(e,t){var a=this;ke.post("/del_page_data",{version_id:this.state.data[this.state.menuItemIndex].version_id,node_key:this.state.nodeKey,data:e}).then((function(e){1===e.code&&(t(),a.get_pages())})).finally((function(){return a.setState({loading:!1})}))}},{key:"onAddVersion",value:function(e,t){var a=this;ke.post("/add_version",e).then((function(e){1===e.code&&(t(!0),a.setState({showAddVersionModal:!1}),a.get_pages())})).finally((function(){return t()}))}},{key:"onCopyVersion",value:function(e,t){var a=this;e.version_id=this.state.data[this.state.menuItemIndex].version_id,e.path||(e.path=e.old_path),ke.post("/copy_version",e).then((function(e){1===e.code&&(t(!0),a.setState({showCopyVersionModal:!1}),a.get_pages())})).finally((function(){return t()}))}},{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.get_pages()}},{key:"get_pages",value:function(){var e=this;ke.get("/get_version_pages",null).then((function(t){var a=t.data,n=Math.min(e.state.menuItemIndex,a.length-1);e.switchMenItem(n,a)})).finally((function(){return e.setState({loading:!1})}))}},{key:"switchMenItem",value:function(e,t){e<0&&(e=0);var a=t[e],n=a&&a.pages;this.dataList=[],n&&function e(t,a){if(t)for(var n=0;n<t.length;n++){var r=t[n],i=r.key;a.push({key:i,title:i,data:r}),r.children&&e(r.children,a)}}(n,this.dataList),this.setState({pages:n,menuItemIndex:e,data:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchValue,r=t.expandedKeys,i=t.autoExpandParent,o=t.data,l=t.pages;console.log("pages",l),console.log("data",o),console.log("index",this.state.menuItemIndex);var s=[{key:"add",name:"\u521b\u5efa\u65b0\u7684\u7248\u672c\u8ba1\u5212"}];o&&o.length>0&&(s.push({key:"copy",name:"\u590d\u5236\u5f53\u524d\u7248\u672c\u8ba1\u5212"}),s.push({key:"del",name:"\u5220\u9664\u5f53\u524d\u7248\u672c\u8ba1\u5212"}));var c=this.getNodeByKey(this.state.nodeKey);return n.createElement(g.a,{style:{padding:"2vh",height:"90vh",display:"flex",flexDirection:"column"}},n.createElement(Ee,{style:{background:"#fff",flex:1}},n.createElement(b.a,{type:"flex"},n.createElement(w.a,{span:5,style:{height:"88vh",display:"flex",flexDirection:"column",borderRight:"0.1px solid",borderColor:"#efefef"}},n.createElement("div",{style:{width:"100%",height:"6vh"}},n.createElement("div",{style:{width:"100%",height:"100%",display:"flex",paddingTop:"2vh",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:0}},n.createElement("p",{style:{fontSize:15,color:"#777"}},"\u7248\u672c\u8ba1\u5212")),n.createElement(R,{menu:s,onClick:function(t){"add"===t.key?e.setState({showAddVersionModal:!0}):"copy"===t.key?e.showCopyVersionModal():"del"===t.key&&Ie({title:"\u4f60\u8981\u5220\u9664\u3010".concat(o[e.state.menuItemIndex].name,"\u3011\u5417?"),content:"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u786e\u8ba4",onOk:e.onDelVersion})}},n.createElement(h.a,{type:"menu",style:{position:"absolute",top:"2.3vh",right:16,zIndex:2}}))),n.createElement("div",{className:"hide-scrollbar",style:{height:"80vh",overflowY:"scroll"}},o&&o.length>0?n.createElement(m.a,{theme:"light",defaultSelectedKeys:["0"]},o.map((function(t,a){return n.createElement(m.a.Item,{key:"".concat(a),onClick:function(){return e.switchMenItem(a,o)}},n.createElement(h.a,{type:"file"}),n.createElement("span",null,t.name))}))):n.createElement("div",null,n.createElement(S.a,{image:S.a.PRESENTED_IMAGE_SIMPLE,style:{marginTop:"20vh"},description:"\u8bf7\u5728\u53f3\u4e0a\u89d2\u83dc\u5355\u4e2d\u521b\u5efa\u7248\u672c\u8ba1\u5212"})))),n.createElement(w.a,{span:19,style:{height:"84vh",display:"flex",flexDirection:"row"}},n.createElement("div",{style:{padding:24,display:"flex",flexDirection:"column",flex:1}},o&&0!==o.length&&l&&n.createElement(xe,{style:{marginLeft:16,width:"80%",height:32},placeholder:"Search",onChange:this.onChange}),n.createElement("div",{className:"hide-scrollbar",style:{overflowY:"scroll",flex:1}},o&&0!==o.length&&l&&n.createElement(be,{onExpand:this.onExpand,expandedKeys:r,autoExpandParent:i,onSelect:function(t){return e.onSelected(t)}},function e(t){return t&&t.map((function(t){var r=t.title.indexOf(a),i=t.title.substr(0,r),o=t.title.substr(r+a.length),l=r>-1?n.createElement("span",null,i,n.createElement("span",{style:{color:"#f50"}},a),o):n.createElement("span",null,t.title);return t.children?n.createElement(Se,{key:t.key,title:l},e(t.children)):n.createElement(Se,{key:t.key,title:l})}))}(l)))),n.createElement("div",{style:{width:500,overflowY:"scroll",flex:1}},c&&"class"===c.type||c&&"method"===c.type?n.createElement(pe,{pageInfo:c,onDel:function(t,a){return e.onDelPageData(t,a)},onSave:function(t,a){return e.onSavePageData(t,a)}}):void 0)))),n.createElement(K,{title:"\u6dfb\u52a0\u7248\u672c\u8ba1\u5212",visible:this.state.showAddVersionModal,onOk:function(t,a){return e.onAddVersion(t,a)},fields:this.version_modal_field,onCancel:function(){return e.setState({showAddVersionModal:!1})}}),n.createElement(K,{title:"\u590d\u5236\u7248\u672c\u8ba1\u5212",visible:this.state.showCopyVersionModal,onOk:function(t,a){return e.onCopyVersion(t,a)},fields:this.copy_version_modal_field,onCancel:function(){return e.setState({showCopyVersionModal:!1})}}))}}]),t}(fe),Oe=g.a.Content,je=x.a.confirm,Te=C.a,Ae=Te.TreeNode,Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).flat_menu_data={},a.flat_pages_data={},a.state={expandedKeys:[],autoExpandParent:!0,checkedKeys:[],selectedKeys:[],menuSelectedKeys:[],menuItemId:void 0,showAddPlanModal:!1,showAddSubPlanModal:!1,showCopyPlanModal:!1,pages:[],data:[],versions:[],allCheckStatus:!1},a.plan_modal_field=[{label:"\u6d4b\u8bd5\u8ba1\u5212\u540d\u79f0",field:"name",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]}}},{label:"\u7248\u672c\u540d\u79f0",field:"version_id",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c\u540d\u79f0"}]}}}],a.sub_plan_modal_field=[{label:"\u7236\u6d4b\u8bd5\u8ba1\u5212\u540d\u79f0",field:"parent_name",props:{disabled:!0,decorator:{}}},{label:"\u7236\u7248\u672c\u540d\u79f0",field:"version_name",props:{disabled:!0,decorator:{}}},{label:"\u6d4b\u8bd5\u8ba1\u5212\u540d\u79f0",field:"name",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]}}}],a.copy_plan_modal_field=[{label:"\u539f\u6d4b\u8bd5\u8ba1\u5212\u540d\u79f0",field:"old_name",props:{disabled:!0,decorator:{}}},{label:"\u539f\u7248\u672c\u540d\u79f0",field:"old_version_id",props:{disabled:!0,decorator:{}}},{label:"\u6d4b\u8bd5\u8ba1\u5212\u540d\u79f0",field:"name",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]}}},{label:"\u7248\u672c\u540d\u79f0",field:"version_id",props:{decorator:{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c\u540d\u79f0"}]}}}],a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onCheck=function(e){a.updateCheckedKeys(e)},a.onSelect=function(e,t){a.setState({selectedKeys:e})},a.onAllSelected=function(e){var t=[];if(e.target.checked){var n=a.getVersionByMenuItem();n&&n.pages&&(t=Object.keys(a.flat_pages_data))}a.onCheck(t)},a.renderTreeNodes=function(e){return e&&e.map((function(e){return e.children?n.createElement(Ae,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):n.createElement(Ae,Object.assign({key:e.key},e))}))},a.onDelPlan=function(){ke.post("/del_plan",{plan_id:a.state.menuItemId,version_id:a.getMenuItem().version_id}).then((function(e){1===e.code&&a.get_plans()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"switchMenItem",value:function(e){e||(e=this.state.menuItemId);var t=this.getMenuItem(e),a=t&&t.selected_page_node;this.setState({menuItemId:e,checkedKeys:a,selectedKeys:[],menuSelectedKeys:[e]}),this.onCheckAllStatus(e)}},{key:"onCheckAllStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.menuItemId,t=this.getMenuItem(e),a=!1;if(t){this.flat_pages_data={};var n=t&&t.selected_page_node,r=t&&this.getVersionByMenuItem(t),i=t?r&&r.pages:void 0;i&&(A(i,this.flat_pages_data),n&&n.length===Object.keys(this.flat_pages_data).length&&(a=!0))}this.setState({allCheckStatus:a})}},{key:"showAddPlan",value:function(){0!==this.state.versions.length?(this.plan_modal_field[1].selectData=this.state.versions.filter((function(e){return!e.is_del})).map((function(e){return{name:e.name,value:e.version_id}})),this.setState({showAddPlanModal:!0})):ve.a.open({message:"\u8bf7\u5148\u521b\u5efa\u7248\u672c\u8ba1\u5212",description:"\u8bf7\u5728\u6d4b\u8bd5\u9875\u9762\u521b\u5efa\u4f60\u7684\u7248\u672c\u8ba1\u5212\uff0c\u6d4b\u8bd5\u8ba1\u5212\u9700\u8981\u5173\u8054\u5230\u7248\u672c\u8ba1\u5212"})}},{key:"showAddSubPlan",value:function(){var e=this.getMenuItem(),t=this.getVersionByMenuItem();this.sub_plan_modal_field[0].props.decorator.initialValue=e&&e.name,this.sub_plan_modal_field[1].props.decorator.initialValue=t&&t.name,this.setState({showAddSubPlanModal:!0})}},{key:"showCopyPlan",value:function(){var e=this.getMenuItem(),t=this.getVersionByMenuItem();this.copy_plan_modal_field[0].props.decorator.initialValue=e&&e.name,this.copy_plan_modal_field[1].props.decorator.initialValue=t&&t.name,this.copy_plan_modal_field[2].props.decorator.initialValue=e.name,this.copy_plan_modal_field[3].disabled=e.parent_id,this.copy_plan_modal_field[3].selectData=this.state.versions.filter((function(e){return!e.is_del})).map((function(e){return{name:e.name,value:e.version_id}})),this.setState({showCopyPlanModal:!0})}},{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.get_pages(),this.get_plans()}},{key:"get_plans",value:function(){var e=this;ke.get("/get_plans",null).then((function(t){var a=t.data,n=void 0;a&&(e.flat_menu_data={},T(a,e.flat_menu_data),n=a[0]&&a[0].plan_id),e.getMenuItem()&&(n=e.state.menuItemId),e.setState({data:a}),e.switchMenItem(n)})).finally((function(){return e.setState({loading:!1})}))}},{key:"get_pages",value:function(){var e=this;ke.get("/get_plan_version_pages",null).then((function(t){var a=t.data?t.data:[];e.setState({versions:a}),e.onCheckAllStatus()}))}},{key:"onAddPlan",value:function(e,t){var a=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getMenuItem(),i={};if(!n){if(!r)return void ve.a.open({message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u6d4b\u8bd5\u8ba1\u5212",description:"\u6dfb\u52a0\u5b50\u8ba1\u5212\uff0c\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u6d4b\u8bd5\u8ba1\u5212"});i.parent_id=r.plan_id,i.version_id=r.version_id}ke.post("/add_plan",Object(j.a)({},e,{},i)).then((function(e){1===e.code&&(t(!0),a.setState({showAddPlanModal:!1,showAddSubPlanModal:!1}),a.get_plans())})).finally((function(){return t()}))}},{key:"onCopyPlan",value:function(e,t){var a=this,n=this.getMenuItem(),r={};n&&(r.plan_id=n.plan_id),ke.post("/copy_plan",Object(j.a)({},e,{},r)).then((function(e){1===e.code&&(t(!0),a.setState({showCopyPlanModal:!1}),a.get_plans())})).finally((function(){return t()}))}},{key:"onSavePageData",value:function(e,t){var a=this;ke.post("/save_plan_data",{plan_id:this.getMenuItem().plan_id,data:e}).then((function(e){1===e.code&&(t(),a.get_plans())}))}},{key:"onDelPageData",value:function(e,t){var a=this;ke.post("/del_plan_data",{plan_id:this.getMenuItem().plan_id,data:e}).then((function(e){1===e.code&&(t(),a.get_plans())}))}},{key:"updateCheckedKeys",value:function(e){var t=this;ke.post("/update_selected_page_node",{plan_id:this.getMenuItem().plan_id,selected_page_node:e}).then((function(e){})).finally((function(){return t.get_plans()}))}},{key:"getMenuItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.menuItemId;return this.flat_menu_data[e]}},{key:"getVersionByMenuItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getMenuItem();if(e)return this.state.versions&&this.state.versions.find((function(t){return t.version_id===e.version_id}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.expandedKeys,r=t.autoExpandParent,i=t.checkedKeys,o=t.selectedKeys,l=this.getVersionByMenuItem(),s=l&&l.pages,c=[{key:"add",name:"\u521b\u5efa\u65b0\u7684\u6d4b\u8bd5\u8ba1\u5212"}],d=this.getMenuItem(),u=void 0;if(d&&(c.push({key:"add_sub",name:"\u521b\u5efa\u5b50\u6d4b\u8bd5\u8ba1\u5212"}),c.push({key:"copy",name:"\u590d\u5236\u5f53\u524d\u6d4b\u8bd5\u8ba1\u5212"}),c.push({key:"del",name:"\u5220\u9664\u5f53\u524d\u6d4b\u8bd5\u8ba1\u5212"}),u=Object(j.a)({title:d.name},d,{key:d.plan_id,disable:!1,emptyText:"\u5728\u8fd9\u91cc\u914d\u7f6e\u5168\u5c40\u53d8\u91cf"})),o&&o.length>0){var p=function e(t){var a=t[0];return Array.isArray(a)?e(a):a}(this.state.selectedKeys);console.log(p);var f=this.flat_pages_data[p];console.log(this.flat_pages_data),console.log(f),f&&(u=Object(j.a)({},f,{disable:!0,emptyText:"\u8bf7\u5728\u7248\u672c\u8ba1\u5212\u6dfb\u52a0\u8be5\u9875\u9762\u7684\u53d8\u91cf"}))}return n.createElement(g.a,{style:{padding:"2vh",height:"90vh",display:"flex",flexDirection:"column"}},n.createElement(Oe,{style:{background:"#fff",flex:1}},n.createElement(b.a,{type:"flex"},n.createElement(w.a,{span:5,style:{height:"88vh",display:"flex",flexDirection:"column",borderRight:"0.1px solid",borderColor:"#efefef"}},n.createElement("div",{style:{width:"100%",height:"6vh"}},n.createElement("div",{style:{width:"100%",height:"100%",display:"flex",paddingTop:"2vh",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:0}},n.createElement("p",{style:{fontSize:15,color:"#777"}},"\u6d4b\u8bd5\u8ba1\u5212")),n.createElement(R,{menu:c,onClick:function(t){if("add"===t.key&&e.showAddPlan(),"add_sub"===t.key)e.showAddSubPlan();else if("copy"===t.key)e.showCopyPlan();else if("del"===t.key){var a=e.flat_menu_data[e.state.menuItemId];je({title:"\u4f60\u8981\u5220\u9664\u3010".concat(a&&a.name,"\u3011\u5417?"),content:"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u786e\u8ba4",onOk:e.onDelPlan})}}},n.createElement(h.a,{type:"menu",style:{position:"absolute",top:"2.3vh",right:16,zIndex:2}}))),n.createElement("div",{className:"hide-scrollbar",style:{height:"80vh",overflowY:"scroll"}},this.state.data&&this.state.data.length>0?n.createElement(Te,{theme:"light",selectedKeys:this.state.menuSelectedKeys,onSelect:function(t){return e.switchMenItem(t[0],e.state.data)}},function e(t){return t&&t.map((function(t){return t.children?n.createElement(Ae,{key:t.plan_id,title:t.name},e(t.children)):n.createElement(Ae,{key:t.plan_id,title:t.name})}))}(this.state.data)):n.createElement("div",null,n.createElement(S.a,{image:S.a.PRESENTED_IMAGE_SIMPLE,style:{marginTop:"20vh"},description:"\u8bf7\u5728\u53f3\u4e0a\u89d2\u83dc\u5355\u4e2d\u521b\u5efa\u6d4b\u8bd5\u8ba1\u5212"})))),n.createElement(w.a,{span:19,style:{height:"84vh",display:"flex",flexDirection:"row"}},n.createElement("div",{style:{padding:24,display:"flex",flexDirection:"column",flex:1}},n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},n.createElement("p",{style:{fontSize:15,color:"#777",margin:16}},"\u8bf7\u9009\u62e9\u6d4b\u8bd5\u9875\u9762"),d&&0===d.children.length&&n.createElement(te.a,{onChange:this.onAllSelected,checked:this.state.allCheckStatus,style:{padding:2}},"\u5168\u9009")),n.createElement("div",{className:"hide-scrollbar",style:{overflowY:"scroll",flex:1}},d&&0===d.children.length&&s?n.createElement(Te,{onExpand:this.onExpand,expandedKeys:a,autoExpandParent:r,onCheck:this.onCheck,checkedKeys:i,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,checkable:!0},d&&0===d.children.length&&this.renderTreeNodes(s)):n.createElement("div",null,n.createElement(S.a,{image:S.a.PRESENTED_IMAGE_SIMPLE,style:{marginLeft:"-64%"},description:d&&d.children.length>0?"\u8bf7\u5c55\u5f00\u7ec8\u7aef\u8282\u70b9":"\u6682\u65e0\u6570\u636e"})))),n.createElement("div",{style:{width:500,overflowY:"scroll",flex:1}},d&&n.createElement(pe,{disable:u.disable,emptyText:u.emptyText,onDel:function(t,a){return e.onDelPageData(t,a)},onSave:function(t,a){return e.onSavePageData(t,a)},pageInfo:u}))))),n.createElement(K,{title:"\u521b\u5efa\u6d4b\u8bd5\u8ba1\u5212",visible:this.state.showAddPlanModal,onOk:function(t,a){return e.onAddPlan(t,a)},fields:this.plan_modal_field,onCancel:function(){return e.setState({showAddPlanModal:!1})}}),n.createElement(K,{title:"\u521b\u5efa\u5b50\u6d4b\u8bd5\u8ba1\u5212",visible:this.state.showAddSubPlanModal,onOk:function(t,a){return e.onAddPlan(t,a,!1)},fields:this.sub_plan_modal_field,onCancel:function(){return e.setState({showAddSubPlanModal:!1})}}),n.createElement(K,{title:"\u590d\u5236\u6d4b\u8bd5\u8ba1\u5212",visible:this.state.showCopyPlanModal,onOk:function(t,a){return e.onCopyPlan(t,a)},fields:this.copy_plan_modal_field,onCancel:function(){return e.setState({showCopyPlanModal:!1})}}))}}]),t}(fe),De=(a(649),a(245)),Me=(a(651),a(334)),Ne=(a(232),a(119)),Le=(a(653),a(339)),Ke=(a(655),a(199)),Ve=(a(657),a(123)),Re=(a(659),a(243)),Fe=a(32),ze={Android:{ip:"",port:"",device_id:""},IOS:{ip:"127.0.0.1",port:"8100",device_id:""}},Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).remove=function(e){var t=a.props.form,n=t.getFieldValue("dataSource");1!==n.length&&t.setFieldsValue({dataSource:n.filter((function(t){return t!==e}))})},a.add=function(){var e=a.props.form,t=e.getFieldValue("dataSource").concat(J()());e.setFieldsValue({dataSource:t})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.form,a=e.formRef;a&&a(t);var n=this.props.dataSource,r=n.map((function(e){return e.id}));t.setFieldsValue({dataSource:r});var i={};n.forEach((function(e){i[e.id]=e.name})),this.setState({name:i})}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,i={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},o={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};a("dataSource",{initialValue:[]});var l=n("dataSource"),s=l.map((function(t,n){return r.a.createElement(P.a.Item,Object.assign({},0===n?i:o,{label:0===n?"\u5e94\u7528\u5305\u540d":"",required:!1,key:t}),a("name[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],initialValue:e.state.name[t],rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u5305\u540d"}]})(r.a.createElement(I.a,{placeholder:"\u5e94\u7528\u5305\u540d",style:{width:"60%",marginRight:8}})),l.length>1?r.a.createElement(h.a,{className:"dynamic-delete-button",type:"minus-circle-o",onClick:function(){return e.remove(t)}}):null)}));return r.a.createElement(P.a,null,s,r.a.createElement(P.a.Item,o,r.a.createElement(z.a,{type:"dashed",onClick:this.add,style:{width:"60%"}},r.a.createElement(h.a,{type:"plus"})," \u6dfb\u52a0\u5e94\u7528\u5305\u540d")))}}]),t}(r.a.Component),qe=P.a.create({name:"dynamic_form_item"})(Be),We=Re.a.TabPane,Ye=Ve.a.Text,Ue=Ke.a.Step,He=g.a.Content,Ge=Fe.a.Group,Je=M.a.Option,Qe=x.a.confirm,Ze={waited:"\u7b49\u5f85\u4e2d",running:"\u6267\u884c\u4e2d",aborted:"\u5931\u8d25",pending_stop:"\u7b49\u5f85\u505c\u6b62",successful:"\u6210\u529f",user_stopped:"\u5df2\u505c\u6b62"},$e={waited:"#FF8C00",running:"#FF8C00",aborted:"#fb3333",pending_stop:"#777",successful:"#22cc22",user_stopped:"#999"},Xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logger=void 0,a.state={value:void 0,plans:[],pageTasks:[],platform:"IOS",ip:"",port:"",device_id:"",appId:void 0,tasks:[],task:void 0,task_logs:{},showAppIdDialog:!1,appIds:[],confirmLoading:!1},a.onChange=function(e){console.log(e),a.setState({value:e})},a.scrollToBottom=function(){a.messagesEnd&&a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.showAppIdDialog=function(){a.setState({showAppIdDialog:!0})},a.onSaveAppIds=function(){a.setState({confirmLoading:!0}),a.appIdFormRef&&a.appIdFormRef.validateFields((function(e,t){if(e)a.setState({confirmLoading:!1});else{console.log("values",t);var n=Object.keys(t.name).map((function(e){return{id:e,name:t.name[e]}}));ke.post("upload_appIds",{appIds:n}).then((function(e){1===e.code?(a.setState({appIds:n}),a.setState({showAppIdDialog:!1,confirmLoading:!1})):a.setState({confirmLoading:!1})})).catch((function(){return a.setState({confirmLoading:!1})}))}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"get_plans",value:function(){var e=this;ke.get("/get_plans",null).then((function(t){var a=t.data?t.data:[],n={};T(a,n),Object.keys(n).map((function(e){var t=n[e];t.title=t.name,t.label=t.name,t.key=t.plan_id,t.value=t.plan_id,0===t.children.length&&(t.children=void 0)})),e.setState({plans:a})}))}},{key:"get_task",value:function(){var e=this;ke.get("/get_all_task",null).then((function(t){var a=t.data?t.data:[],n=void 0;a.map((function(t){e.state.task?t.task_id===e.state.task.task_id&&((n=t).selected=!0):"running"===t.status&&((n=t).selected=!0)})),e.setState({tasks:a,task:n}),n&&e.onClickHistory(n,!1),e.onPagination(1)})).finally((function(){return e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){var e=ze[this.state.platform],t=e.ip,a=e.port,n=e.device_id;this.setState({ip:t,port:a,device_id:n}),this.setState({loading:!0}),this.get_plans(),this.get_task(),this.getAppIds(),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e,t=this,a=this.state.task,r=a&&a.status,i=a&&a.report_url,o=a&&a.page_data,l=!1,s=void 0,c=[],d=[],u=(null===a||void 0===a?void 0:a.task_step)?a.task_step:[],p=a&&this.state.task_logs?this.state.task_logs[a.task_id]:[];u&&((s=u.filter((function(e){return!e.successful}))).forEach((function(e){e.attach&&(l=!0)})),c=u.filter((function(e){return e.attach})).map((function(e){return e.attach})),d=s.filter((function(e){return e.attach})).map((function(e){return e.attach})),u.forEach((function(e){var t=o.find((function(t){return t.path===e.attach}));e.page_name=t?"\u3010".concat(t.name,"\u3011"):"",d.find((function(t){return t.startsWith(e.attach)}))&&(e.successful=!1)})));var f=this.state,m=f.ip,v=f.port,y=f.device_id,_=f.appId;return a&&a.app_info&&(m=a.app_info.ip,v=a.app_info.port,y=a.app_info.device_id,_=a.app_info.appId),n.createElement(g.a,{style:{padding:"2vh",height:"90vh",display:"flex",flexDirection:"column"}},n.createElement(He,{style:{background:"#fff",flex:1}},n.createElement(b.a,{type:"flex"},n.createElement(w.a,{span:6,style:{height:"88vh",display:"flex",flexDirection:"column",borderRight:"0.1px solid",borderColor:"#efefef"}},n.createElement("div",{style:{width:"100%",height:"6vh"}},n.createElement("div",{style:{width:"100%",height:"100%",display:"flex",paddingTop:"2vh",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:0}},n.createElement("p",{style:{fontSize:15,color:"#777"}},"\u5386\u53f2\u6267\u884c\u8bb0\u5f55"))),n.createElement("div",{style:{background:"#efefef",height:1,width:"100%"}}),n.createElement("div",{className:"hide-scrollbar",style:{height:"75vh",overflowY:"scroll"}},n.createElement(Le.a,{size:"small",itemLayout:"vertical",dataSource:this.state.pageTasks,renderItem:function(e){var a=$e[e.status];return n.createElement(b.a,{type:"flex",justify:"start",onClick:function(){return t.onClickHistory(e)},style:{background:e.selected?"#ddd":"#fff",marginRight:1}},n.createElement(b.a,{type:"flex",justify:"start",align:"middle",style:{paddingLeft:16,paddingRight:16,paddingTop:12,paddingBottom:12,flex:1}},n.createElement(h.a,{type:"Android"===e.device.platform?"android":"apple",style:{fontSize:20,color:"user_stopped"===e.status?$e.user_stopped:"#333"}}),n.createElement(b.a,{style:{flex:1,marginLeft:8}},n.createElement(w.a,null,n.createElement("span",{className:"item-title",style:{color:"user_stopped"===e.status?$e.user_stopped:"#333",fontSize:14}},e.name)),n.createElement(w.a,null,n.createElement("span",{style:{color:"user_stopped"===e.status?$e.user_stopped:"#777",fontSize:10}},e.time))),n.createElement("span",{style:{color:a,fontSize:14}},Ze[e.status])),n.createElement("div",{style:{background:"#efefef",height:1,width:"100%"}}))}})),n.createElement(b.a,{type:"flex",justify:"center",style:{height:"4vh"}},n.createElement(Ne.a,{simple:!0,size:"small",total:this.state.tasks?this.state.tasks.length:0,pageSize:8,defaultCurrent:1,showQuickJumper:!0,onChange:function(e){return t.onPagination(e)}}))),n.createElement(w.a,{span:18,style:{height:"85vh"}},void 0===a||"running"===r||"waited"===r?n.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},n.createElement(b.a,{type:"flex",justify:"start",style:{marginTop:32,marginLeft:32}},n.createElement(Ge,{compact:!0},n.createElement(M.a,{defaultValue:"IOS",style:{width:100},onChange:function(e){var a=ze[e],n=a.ip,r=a.port,i=a.device_id,o=a.appId;t.setState({platform:e,ip:n,port:r,device_id:i,appId:o})}},n.createElement(Je,{value:"Android"},"Android"),n.createElement(Je,{value:"IOS"},"IOS")),n.createElement(Fe.a,{placeHolder:"127.0.0.1",value:m,onChange:function(e){ze[t.state.platform].ip=e.target.value,t.setState({ip:e.target.value})},style:{width:120}}),n.createElement(Fe.a,{placeHolder:"8100",value:v,onChange:function(e){ze[t.state.platform].port=e.target.value,t.setState({port:e.target.value})},style:{width:80}}),n.createElement(Fe.a,{addonBefore:"\u8bbe\u5907\u53f7",value:y,onChange:function(e){ze[t.state.platform].device_id=e.target.value,t.setState({device_id:e.target.value})},style:{marginLeft:8,width:200}}),n.createElement(M.a,{style:{marginLeft:8,width:200},placeholder:"\u8bf7\u9009\u62e9\u5305\u540d",value:_,onChange:function(e){ze[t.state.platform].appId=e,t.setState({appId:e})},dropdownRender:function(e){return n.createElement("div",null,e,n.createElement(Me.a,{style:{margin:"4px 0"}}),n.createElement("div",{style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:function(e){return e.preventDefault()},onClick:t.showAppIdDialog},n.createElement(h.a,{type:"setting"})," \u7ba1\u7406\u5305\u540d"))}},this.state.appIds.map((function(e){return n.createElement(Je,{value:e.name},e.name)}))))),n.createElement(b.a,{type:"flex",justify:"start",style:{marginTop:16,marginLeft:16}},n.createElement(ae.a,{style:{minWidth:150,marginLeft:16},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:this.state.plans,placeholder:"\u8bf7\u9009\u62e9\u6d4b\u8bd5\u8ba1\u5212",treeDefaultExpandAll:!0,onSelect:this.onChange}),this.state.task&&"running"===this.state.task.status?n.createElement("div",{onClick:function(){return t.stopTest()},style:{width:20,height:20,marginLeft:16,borderRadius:2,background:"#cc2222",marginTop:4}}):n.createElement(h.a,{type:"caret-right",onClick:function(){return t.startTest()},style:{color:"#229922",fontSize:32,marginLeft:8}})),n.createElement("div",{className:"hide-scrollbar",style:{marginTop:24,marginLeft:32,flex:1,background:"#111",padding:8,overflowY:"scroll"}},p&&p.map((function(e){return n.createElement("div",{ref:function(e){t.messagesEnd=e},style:{marginTop:4,color:"#ffff"}},n.createElement(Ye,{code:!0,style:{color:"error"===e.type?void 0:"#fff",fontSize:14},type:"error"===e.type?"danger":void 0},"".concat(e.time,"\uff1a").concat(e.log)))})))):n.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},n.createElement(b.a,{type:"flex",justify:"start",style:{paddingTop:24,paddingLeft:24,paddingRight:24,paddingBottom:16}},n.createElement(z.a,{type:"primary",ghost:!0,icon:"left",onClick:function(){return t.getBackControl()}},"\u8fd4\u56de\u63a7\u5236\u53f0"),n.createElement(b.a,{type:"flex",justify:"end",style:{flex:1}},n.createElement(z.a,{style:{marginLeft:16},type:"danger",onClick:function(){return Qe({title:"\u4f60\u8981\u5220\u9664\u3010".concat(a.name,"\u3011\u5417?"),content:"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u786e\u8ba4",onOk:function(){return t.onDel()}})}},"\u5220\u9664"),n.createElement(z.a,{type:"primary",style:{marginLeft:16},onClick:function(){return t.onRedo()}},"\u91cd\u65b0\u6d4b\u8bd5",n.createElement(h.a,{type:"redo"})),l&&n.createElement(z.a,{type:"primary",style:{marginLeft:16},onClick:function(){return t.onRedoError()}},"\u53ea\u8fd0\u884c\u9519\u8bef\u7528\u4f8b",n.createElement(h.a,{type:"exclamation-circle"})),i&&n.createElement(z.a,{type:"primary",style:{marginLeft:16},onClick:function(){return t.goToReport(i)}},"\u6d4b\u8bd5\u62a5\u544a",n.createElement(h.a,{type:"right"})))),n.createElement(Re.a,{defaultActiveKey:"2",style:{height:"75vh"}},n.createElement(We,{tab:"\u6982\u89c8",key:"1"},n.createElement("div",{className:"hide-scrollbar",style:{overflowY:"scroll",padding:24,height:"70vh"}},n.createElement(De.a,null,o&&o.map((function(e){var t=c.includes(e.path)?"blue":"gray",a="#222",r=e.method_data.map((function(e){var r="#222";return d.includes(e.path)&&(t="red",a="#f5222d",r="#f5222d"),n.createElement("span",null,n.createElement("br",null),n.createElement("span",{style:{color:r}},"  ",e.name," "),n.createElement("span",{style:{color:"#777"}},"(".concat(e.data.map((function(e){return"".concat(e.name,":").concat(e.value)})),")")))}));return n.createElement(De.a.Item,{color:t},n.createElement("span",{style:{color:a}},e.alias||e.name),n.createElement("span",{style:{color:"#777"}},"(".concat(e.data.map((function(e){return"".concat(e.name,":").concat(e.value)})),")")),r)}))))),n.createElement(We,{tab:"\u6d4b\u8bd5\u6b65\u9aa4",key:"2"},n.createElement("div",{className:"hide-scrollbar",style:{overflowY:"scroll",padding:24,height:"70vh"}},n.createElement(Ke.a,{direction:"vertical",size:"small"},null===u||void 0===u?void 0:u.map((function(e){return n.createElement(Ue,{title:"".concat(e.title).concat(e.page_name),subTitle:"".concat(e.sub_title),description:e.message,status:e.successful?"finish":"error"})}))))),s&&s.length>0&&n.createElement(We,{tab:"\u9519\u8bef\u6b65\u9aa4",key:"3"},n.createElement("div",{className:"hide-scrollbar",style:{overflowY:"scroll",padding:24,height:"70vh"}},n.createElement(Ke.a,{direction:"vertical",size:"small"},null===(e=s)||void 0===e?void 0:e.filter((function(e){return!e.successful})).map((function(e){return n.createElement(Ue,{title:"".concat(e.title).concat(e.page_name),subTitle:"".concat(e.sub_title),description:e.message,status:e.successful?"finish":"error"})}))))))))),n.createElement(x.a,{title:"\u7ba1\u7406\u5e94\u7528\u5305\u540d",visible:this.state.showAppIdDialog,confirmLoading:this.state.confirmLoading,onOk:this.onSaveAppIds,onCancel:function(){return t.setState({showAppIdDialog:!1})}},n.createElement(qe,{formRef:function(e){return t.appIdFormRef=e},dataSource:this.state.appIds}))))}},{key:"onPagination",value:function(e){var t=[];this.state.tasks&&(t=this.state.tasks.slice(8*(e-1),8*(e-1)+8)),this.setState({pageTasks:t})}},{key:"onClickHistory",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log(e);var n=Object(O.a)(this.state.tasks);n.map((function(e){return e.selected=!1})),e.selected=!0;var r=a?{test_log:[],test_step:[]}:{};this.setState(Object(j.a)({tasks:n,task:e},r)),this.logger&&clearInterval(this.logger),"running"===e.status?this.logger=setInterval((function(){return t.getTaskLog(e)}),1e3):a&&"waited"===e.status?setTimeout((function(){return t.get_task()}),500):this.getTaskStep(e)}},{key:"componentWillUnmount",value:function(){this.logger&&clearInterval(this.logger)}},{key:"startTest",value:function(){var e=this,t=ze[this.state.platform],a=t.ip,n=t.port,r=t.device_id;ke.post("/start_test",{ip:a,port:n,device_id:r,app_id:this.state.appId,platform:this.state.platform,plan_id:this.state.value}).then((function(t){1===t.code&&(e.get_task(),setTimeout((function(){return e.get_task()}),2500))}))}},{key:"stopTest",value:function(){var e=this,t=this.state.task;clearInterval(this.logger),t&&"running"===t.status&&ke.post("/stop_test",{task_id:t.task_id,group_id:t.group_id}).then((function(t){1===t.code&&(e.get_task(),setTimeout((function(){return e.get_task()}),2500))}))}},{key:"getTaskLog",value:function(e){var t=this;e&&"running"===e.status?ke.post("/get_task_log",{task_id:e.task_id,group_id:e.group_id},{errorTip:!1}).then((function(a){var n=[];a&&a.forEach((function(e){n.push(JSON.parse(e))}));var r=t.state.task_logs;r[e.task_id]=n,t.setState({task_logs:r});var i=t.state.task;i&&i.task_id===e.task_id&&(t.scrollToBottom(),t.get_task())})):clearInterval(this.logger)}},{key:"getTaskStep",value:function(e){var t=this;e&&(e.task_steps||ke.post("/get_task_step",{task_id:e.task_id,group_id:e.group_id}).then((function(a){var n=[];a&&a.forEach((function(e){n.push(JSON.parse(e))}));var r=t.state.task;r&&r.task_id===e.task_id&&(r.task_step=n,t.setState({task_steps:r}))})))}},{key:"getAppIds",value:function(){var e=this;ke.get("/get_appIds").then((function(t){var a=t.data;a&&Array.isArray(a)&&a.length>0&&e.setState({appIds:a})}))}},{key:"getBackControl",value:function(){var e=this.state.task,t=Object(O.a)(this.state.tasks);t.map((function(e){return e.selected=!1})),e.selected=!1,this.setState({tasks:t,task:void 0,task_log:[]})}},{key:"onDel",value:function(){var e=this,t=this.state.task;t&&ke.post("/del_task",{task_id:t.task_id,group_id:t.group_id}).then((function(t){1===t.code&&(e.get_task(),setTimeout((function(){return e.get_task()}),2500))}))}},{key:"onRedo",value:function(){var e=this,t=this.state.task;t&&ke.post("/start_test_by_task",{task_id:t.task_id,group_id:t.group_id}).then((function(t){1===t.code&&(e.get_task(),setTimeout((function(){return e.get_task()}),2500))}))}},{key:"onRedoError",value:function(){var e=this,t=this.state.task;if(t){var a=t.task_step,n=[];a&&a.filter((function(e){return!e.successful})).forEach((function(e){e.attach&&n.push(e.attach)})),ke.post("/start_error_test_by_task",{task_id:t.task_id,group_id:t.group_id,selected_node:n}).then((function(t){1===t.code&&(e.get_task(),setTimeout((function(){return e.get_task()}),2500))}))}}},{key:"goToReport",value:function(e){window.open("about:blank").location.href=e}}]),t}(fe),et=(a(666),a(244)),tt=[{id:"quick_use",title:"\u5feb\u901f\u4f7f\u7528",children:[{title:"\u7b2c\u4e00\u6b65",desc:"\u5728 src/pages \u76ee\u5f55\u4e0b \u65b0\u5efa\u4e00\u4e2a DemoPage \u7ee7\u627f TestPage",imgs:[["http://localhost:9000/static/guide_images/01.png"]]},{title:"\u7b2c\u4e8c\u6b65",desc:"\u8fd0\u884c server \u76ee\u5f55\u4e0b\u7684 manager.py",imgs:[["http://localhost:9000/static/guide_images/02.png"]]},{title:"\u7b2c\u4e09\u6b65",desc:"\u65b0\u5efa\u4e00\u4e2a\u7248\u672c\u8ba1\u5212,\u5728\u8fd9\u91cc\u53ef\u4ee5\u5355\u72ec\u4e3a\u6bcf\u4e00\u4e2a\u9875\u9762\u6216\u6d4b\u8bd5\u65b9\u6cd5\u914d\u7f6e\u53d8\u91cf",imgs:[["http://localhost:9000/static/guide_images/03.png"],["http://localhost:9000/static/guide_images/04.png"],["http://localhost:9000/static/guide_images/05.png"]]},{title:"\u7b2c\u56db\u6b65",desc:"\u65b0\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u8ba1\u5212,\u5e76\u9009\u62e9\u4f60\u8981\u6d4b\u8bd5\u7684\u754c\u9762\uff0c\u6bcf\u4e00\u4e2a\u6d4b\u8bd5\u8ba1\u5212\u53ef\u4ee5\u4e3a\u6240\u9009\u62e9\u7684\u6d4b\u8bd5\u9875\u9762\u914d\u7f6e\u5168\u5c40\u53d8\u91cf\uff0c\u6ce8\u610f\uff0c\u5982\u679c\u53d8\u91cf\u4e0e\u9875\u9762\u6240\u914d\u7f6e\u7684\u53d8\u91cf\u76f8\u540c\uff0c\u4f1a\u8986\u76d6\u5176\u53d8\u91cf",imgs:[["http://localhost:9000/static/guide_images/06.png"],["http://localhost:9000/static/guide_images/07.png"]]},{title:"\u7b2c\u4e94\u6b65",desc:"\u9009\u62e9Android\uff0c\u65b0\u5efa\u4e00\u4e2a\u5305\u540d\u5e76\u9009\u62e9\u5b83\u3002\u6267\u884c\u4e00\u4e2a\u6d4b\u8bd5\u7684\u7528\u4f8b\u6216\u7528\u4f8b\u7ec4\u3002",imgs:[["http://localhost:9000/static/guide_images/08.png"],["http://localhost:9000/static/guide_images/09.png"],["http://localhost:9000/static/guide_images/10.png"]]}]},{title:"API",desc:"\u76ee\u524d\u8fd9\u91cc\u53ea\u5217\u51fa\u6d4b\u8bd5\u5f00\u53d1\u4e2d\u4f1a\u7528\u5230\u7684API",children:[{title:"App",desc:"\u6709\u4e24\u4e2a\u5b50\u7c7b\uff0c\u5206\u522b\u4e3aAndroidApp \u548c IOSApp",children:[{title:"start_app",desc:"\u542f\u52a8App"},{title:"stop_app",desc:"\u505c\u6b62App"},{title:"start_test",desc:"\u5f00\u59cb\u6d4b\u8bd5\uff0cip\u548cport IOS\u9ed8\u8ba4\u7684\u662f 127.0.0.1:8081\u3002Android \u65e0\u9ed8\u8ba4\u503c",params:[["pages","\u6d4b\u8bd5\u9875\u9762\u7684\u5bf9\u8c61\u53ef\u4ee5\u662f class\u5bf9\u8c61\u6216\u8005 PageData \u5bf9\u8c61\uff0c\u5fc5\u987b\u662f\u7ee7\u627f TestPage \u7684 class"],["ip","\u8bbe\u5907IP\u5730\u5740","None"],["port","\u8bbe\u5907\u7aef\u53e3","None"],["device_id","\u8bbe\u5907ID","None"]]}]},{title:"TestPage",desc:"\u6d4b\u8bd5\u9875\u9762\uff0c\u6240\u6709\u7684\u6d4b\u8bd5\u811a\u672c\u90fd\u5fc5\u987b\u7ee7\u627f\u8fd9\u4e2a\u7c7b",children:[{title:"setUpClass",desc:"\u6240\u6709\u7684\u6d4b\u8bd5\u65b9\u6cd5\u8fd0\u884c\u524d\u8fd0\u884c\uff0c\u4e3a\u5355\u5143\u6d4b\u8bd5\u505a\u524d\u671f\u51c6\u5907,\u6574\u4e2a\u6d4b\u8bd5\u9875\u9762\u53ea\u6267\u884c\u4e00\u6b21"},{title:"tearDownClass",desc:"\u6240\u6709\u7684\u6d4b\u8bd5\u65b9\u6cd5\u8fd0\u884c\u7ed3\u675f\u540e\u8fd0\u884c\uff0c\u4e3a\u5355\u5143\u6d4b\u8bd5\u505a\u540e\u671f\u6e05\u7406\u5de5\u4f5c,\u6574\u4e2a\u6d4b\u8bd5\u9875\u9762\u53ea\u6267\u884c\u4e00\u6b21"},{title:"setUp",desc:"\u6bcf\u4e2a\u6d4b\u8bd5\u65b9\u6cd5\u8fd0\u884c\u524d\u8fd0\u884c\uff0c\u6d4b\u8bd5\u524d\u7684\u521d\u59cb\u5316\u5de5\u4f5c\u3002\u4e00\u6761\u7528\u4f8b\u6267\u884c\u4e00\u6b21\uff0c\u82e5N\u6b21\u7528\u4f8b\u5c31\u6267\u884cN\u6b21\uff0c\u6839\u636e\u7528\u4f8b\u7684\u6570\u91cf\u6765\u5b9a\u3002\u9ed8\u8ba4\u662f\u6267\u884c stop_app \u548c start_app\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u8fd9\u6837\u5904\u7406\uff0c\u53ef\u5728\u5b50\u7c7b\u4e2d\u8986\u76d6\u6b64\u65b9\u6cd5"},{title:"tearDown",desc:"\u6bcf\u4e2a\u6d4b\u8bd5\u65b9\u6cd5\u8fd0\u884c\u7ed3\u675f\u540e\u8fd0\u884c\uff0c\u6d4b\u8bd5\u540e\u7684\u6e05\u7406\u5de5\u4f5c\u3002\u4e00\u6761\u7528\u4f8b\u6267\u884c\u4e00\u6b21\uff0c\u82e5N\u6b21\u7528\u4f8b\u5c31\u6267\u884cN\u6b21\u3002 \u9ed8\u8ba4\u662f\u6267\u884c stop_app\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u8fd9\u6837\u5904\u7406\uff0c\u53ef\u5728\u5b50\u7c7b\u4e2d\u8986\u76d6\u6b64\u65b9\u6cd5"},{title:"is_ios_device",desc:"\u8fd4\u56de\u5f53\u524d\u8fd0\u884c\u7684\u5e73\u53f0\u662f True \u4e3aIOS\uff0cFalse \u4e3aAndroid"},{title:"scroll_down",desc:"\u9875\u9762\u5f80\u4e0b\u6eda\u52a8\u4e00\u6bb5\u8ddd\u79bb"},{title:"wait_stable",desc:"\u7b49\u5f85\u7a33\u5b9a\u72b6\u6001\uff0c\u5b9e\u9645\u4e0a\u53ea\u662fsleep\u4e860.8\u79d2"},{title:"set_ui",desc:"\u5982\u679c\u4f60\u7684UI\u5bf9\u8c61\u4e0d\u662f\u5728__init__\u4e2d\u521d\u59cb\u5316\u7684\uff0c\u6bd4\u5982\u662f\u65b9\u6cd5\u7684\u672c\u5730\u53d8\u91cf\uff0c\u90a3\u4e48\u5728\u672c\u5730\u53d8\u91cf\u521d\u59cb\u5316\u540e\u4e4b\u540e\uff0c\u8c03\u7528\u6b64\u65b9\u6cd5\uff0c\u8fdb\u884c\u8bbe\u7f6e\u3002self.set_ui(UI)"},{title:"freeze",support_framework:{poco:!0},desc:"\u51bb\u7ed3\u9875\u9762\uff0c\u4e5f\u5c31\u662fdump\u4e00\u4efd\u9875\u9762\u7684\u6570\u636e\uff0c\u4f7f\u7528\u5b83\u6765\u67e5\u627e\u6548\u7387\u4f1a\u5feb\u5f88\u591a\uff0c\u7f3a\u70b9\u662f\u5728\u65f6\u6548\u6027\u53ea\u6709\u5728\u8c03\u7528\u5b83\u7684\u90a3\u4e00\u523b\uff0c\u4e4b\u540e\u7684\u624b\u673a\u4e0a\u7684UI\u66f4\u65b0\u4e0d\u4f1a\u540c\u6b65\u5230\u8fd9\u91cc",params:[]},{title:"wait_for_any",support_framework:{poco:!0},desc:"\u7b49\u5f85\u4efb\u610f\u4e00\u4e2a\u5143\u7d20\u51fa\u73b0\uff0c\u76ee\u524d\u53ea\u652f\u6301poco",params:[["objects","\u9700\u8981\u7b49\u5f85\u7684\u5143\u7d20\u7684\u96c6\u5408\uff0c\u5fc5\u586b","\u65e0"],["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"wait_for_all",support_framework:{poco:!0},desc:"\u7b49\u5f85\u6240\u6709\u7684\u5143\u7d20\u90fd\u51fa\u73b0\uff0c\u76ee\u524d\u53ea\u652f\u6301poco",params:[["objects","\u9700\u8981\u7b49\u5f85\u7684\u5143\u7d20\u7684\u96c6\u5408\uff0c\u5fc5\u586b","\u65e0"],["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"assert_for_any",support_framework:{poco:!0},desc:"\u65ad\u8a00\u4efb\u610f\u4e00\u4e2a\u5143\u7d20\u51fa\u73b0\uff0c\u7ec4\u5408\u64cd\u4f5c\uff0cwait_for_any + assert_exists",params:[["objects","\u9700\u8981\u7b49\u5f85\u7684\u5143\u7d20\u7684\u96c6\u5408\uff0c\u5fc5\u586b","\u65e0"],["msg","\u65ad\u8a00\u7684\u63cf\u8ff0","\u65e0"],["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"scroll",desc:"\u6ed1\u52a8\uff0c\u4f7f\u7528poco\u5b9e\u73b0",support_framework:{poco:!0},params:[["direction","\u6ed1\u52a8\u65b9\u5411 'up', 'down', 'left', 'right'\uff0c\u5fc5\u586b","\u65e0"],["focus",'\u6ed1\u52a8\u7684\u7126\u70b9["anchor","center",(x:0 - 1, y:0 - 1)]',"anchor"],["duration","\u6ed1\u52a8\u65f6\u957f","0.5\u79d2"]]},{title:"pinch",desc:"\u7f29\u653e\uff0c\u4f7f\u7528poco\u5b9e\u73b0",support_framework:{poco:!0},params:[["direction","\u6ed1\u52a8\u65b9\u5411 'in', 'out'","in"],["percent","\u6ed1\u52a8\u7684\u8ddd\u79bb\uff0c\u5bbd\u6216\u9ad8\u7684\u767e\u5206\u6bd4 0 - 0.1","0.3"],["duration","\u6ed1\u52a8\u65f6\u957f\uff0c\u5355\u4f4d\u79d2","1\u79d2"],["dead_zone","\u7f29\u653e\u7684\u534a\u5f84,\u8bf7\u4e0d\u8981\u8d85\u8fc7 1","0.1"]]},{title:"snapshot",desc:"\u622a\u56fe\uff0c\u4f7f\u7528poco\u5b9e\u73b0",params:[["fileName","\u56fe\u7247\u540d\u5b57\uff0c\u9ed8\u8ba4\u662f\u622a\u56fe.jpg","None"],["msg","\u56fe\u7247\u7684\u63cf\u8ff0\uff0c\u4ee5\u4fbf\u4e8e\u5728\u62a5\u544a\u4e0a\u67e5\u770b",'""']]},{title:"assert_equal",desc:"\u65ad\u8a00\u4e24\u8005\u662f\u76f8\u7b49",params:[["first","\u5fc5\u586b"],["second","\u5fc5\u586b"],["msg","\u65ad\u8a00\u63cf\u8ff0",'""']]},{title:"assert_not_equal",desc:"\u65ad\u8a00\u4e24\u8005\u4e0d\u76f8\u7b49",params:[["first","\u5fc5\u586b"],["second","\u5fc5\u586b"],["msg","\u65ad\u8a00\u63cf\u8ff0",'""']]},{title:"get_screen_size",desc:"\u83b7\u53d6\u5c4f\u5e55\u5927\u5c0f"}]},{title:"UI",desc:"\u8282\u70b9\u5bf9\u8c61",children:[{title:"wait_for_appearance",desc:"\u7b49\u5f85\u5143\u7d20\u51fa\u73b0\uff0c\u9ed8\u8ba4\u7b49\u5f85\u8d85\u65f6120\u79d2\uff0cAirtest \u627e\u4e0d\u5230\u5bf9\u8c61\u4f1a\u629b\u51fa TargetNotFoundError\uff0cPoco \u5219\u662f\u629b\u51fa PocoTargetTimeout",params:[["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"wait_for_disappearance",desc:"\u7b49\u5f85\u5143\u7d20\u6d88\u5931\uff0c\u9ed8\u8ba4\u7b49\u5f85\u8d85\u65f6120\u79d2,\u89c4\u5b9a\u65f6\u95f4\u5185 \u5bf9\u8c61\u4ecd\u7136\u5b58\u5728\uff0c\u5219\u4f1a\u629b\u51fa PocoTargetTimeout('disappearance', self)",params:[["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"click",desc:"\u6267\u884c\u8be5\u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\uff0c \u5982\u679c\u70b9\u51fb\u65f6 \u5143\u7d20\u4e0d\u5b58\u5728\uff0c\u4f1a\u5c1d\u8bd5\u7b2c\u4e8c\u6b21\uff0c\u65f6\u95f4\u95f4\u96942\u79d2",params:[]},{title:"exists",desc:"\u5224\u65ad\u5143\u7d20\u662f\u5426\u5b58\u5728",params:[["is_retry","\u62a5\u9519\u540e\u662f\u5426\u5c1d\u8bd5,\u9ed8\u8ba4\u4f1a\u91cd\u8bd5","True"],["sleeps","\u91cd\u8bd5\u95f4\u9694\uff0c\u5355\u4f4d\u79d2","2\u79d2"],["max_attempts","\u91cd\u8bd5\u6b21\u6570","2\u6b21"]]},{title:"wait_click",desc:"\u7ec4\u5408\u64cd\u4f5c\uff0cwait_for_appearance + click",params:[["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"wait_exists",desc:"\u7ec4\u5408\u64cd\u4f5c\uff0cwait_for_appearance + exists",params:[["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"swipe",desc:"\u6ed1\u52a8\uff0c\u4f7f\u7528poco\u5b9e\u73b0",support_framework:{poco:!0},params:[["direction","\u6ed1\u52a8\u65b9\u5411 'up', 'down', 'left', 'right'\uff0c\u5fc5\u586b","\u65e0"],["focus",'\u6ed1\u52a8\u7684\u7126\u70b9["anchor","center",(x:0 - 1, y:0 - 1)]',"anchor"],["duration","\u6ed1\u52a8\u65f6\u957f","0.5\u79d2"]]},{title:"airtest_swipe",desc:"\u6ed1\u52a8\uff0c\u4f7f\u7528Airtest\u5b9e\u73b0",support_framework:{airtest:!0},params:[["v2","\u6ed1\u52a8\u76ee\u7684\u5bf9\u8c61:Template/pos' ","None"],["vector","\u6ed1\u52a8\u76ee\u7684\u5750\u6807(x:-1 - 1, y:-1 - 1)","None"],["duration","\u6ed1\u52a8\u65f6\u957f","0.5\u79d2"]]},{title:"sendKeys",desc:"\u53d1\u9001\u6587\u5b57\u5230\u6587\u672c\u8f93\u5165\u6846,\u8fd9\u662f\u4e00\u4e2a\u7ec4\u5408\u64cd\u4f5c",params:[["keys","\u9700\u8981\u53d1\u9001\u7684\u6570\u636e"],["enter","\u56de\u8f66","True"]]},{title:"clear",desc:"\u6e05\u7a7a\u8f93\u5165\u6846\uff0c\u4f46\u53ea\u652f\u6301Android",support_framework:{poco:!0},support_platform:{android:!0},params:[]},{title:"find",desc:"\u67e5\u627e\u5143\u7d20\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u627e\u627e\u4e0d\u5230\u4f1a\u5f80\u6240\u8bbe\u7684\u65b9\u5411\uff0c\u6ed1\u52a8\u4e00\u6bb5\u8ddd\u79bb\u7ee7\u7eed\u67e5\u627e\uff0c\u76f4\u81f3\u88ab\u627e\u5230\u6216\u8d85\u65f6\u3002\u9002\u7528\u4e8e\u6eda\u52a8\u7684\u89c6\u56fe\u6216\u8005\u5217\u8868",params:[["direction","\u6ed1\u52a8\u65b9\u5411\uff0c\u9ed8\u8ba4\u4e3a\u7ad6\u76f4\u65b9\u5411","'vertical'"],["percent","\u6ed1\u52a8\u7684\u8ddd\u79bb\uff0c\u5bbd\u6216\u9ad8\u7684\u767e\u5206\u6bd4 0 - 0.1","0.3"],["duration","\u6ed1\u52a8\u65f6\u957f\uff0c\u5355\u4f4d\u79d2","1\u79d2"],["timeout","\u7b49\u5f85\u65f6\u957f","120\u79d2"]]},{title:"assert_not_exists",desc:"\u65ad\u8a00\u5143\u7d20\u4e0d\u5b58\u5728",params:[["msg","\u65ad\u8a00\u63cf\u8ff0",'""']]},{title:"assert_exists",desc:"\u65ad\u8a00\u5143\u7d20\u5b58\u5728",params:[["msg","\u65ad\u8a00\u63cf\u8ff0",'""']]},{title:"child",desc:"\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u6307\u5b9a\u63cf\u8ff0\u7684\u5b50\u5143\u7d20",params:[["name","\u5143\u7d20\u7684 name","None"],["attrs","\u5143\u7d20\u7684 \u5c5e\u6027"]]},{title:"children",desc:"\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u5b50\u5143\u7d20\u96c6\u5408",params:[]},{title:"offspring",desc:"\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u6307\u5b9a\u63cf\u8ff0\u7684\u540e\u4ee3",params:[["name","\u5143\u7d20\u7684 name","None"],["attrs","\u5143\u7d20\u7684 \u5c5e\u6027"]]},{title:"sibling",desc:"\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u6307\u5b9a\u63cf\u8ff0\u7684\u5144\u5f1f\u5143\u7d20",params:[["name","\u5143\u7d20\u7684 name","None"],["attrs","\u5143\u7d20\u7684 \u5c5e\u6027"]]},{title:"parent",desc:"\u83b7\u53d6\u8be5\u5143\u7d20\u7684\u7236\u5143\u7d20",params:[]},{title:"freeze",support_framework:{poco:!0},desc:"\u51bb\u7ed3\u9875\u9762\u5e76\u4ece\u8be5\u9875\u9762\u67e5\u627e\u6539\u5143\u7d20\uff0c\u4e5f\u5c31\u662fdump\u4e00\u4efd\u9875\u9762\u7684\u6570\u636e\uff0c\u4f7f\u7528\u5b83\u6765\u67e5\u627e\u6548\u7387\u4f1a\u5feb\u5f88\u591a\uff0c\u7f3a\u70b9\u662f\u5728\u65f6\u6548\u6027\u53ea\u6709\u5728\u8c03\u7528\u5b83\u7684\u90a3\u4e00\u523b\uff0c\u4e4b\u540e\u7684\u624b\u673a\u4e0a\u7684UI\u66f4\u65b0\u4e0d\u4f1a\u540c\u6b65\u5230\u8fd9\u91cc",params:[]}]}]}];var at=Ve.a.Title,nt=Ve.a.Paragraph,rt=et.a.Link,it=g.a.Content,ot=[];!function e(t,a){t.forEach((function(t){a.push(t),t.children&&e(t.children,a)}))}(tt,ot);var lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).loop=function(e){if(e)return e.map((function(e){return n.createElement(rt,{href:"#".concat(e.id||e.title),title:e.title,children:a.loop(e.children)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.createElement(g.a,{id:"content",style:{padding:"2vh",display:"flex",flexDirection:"column"}},n.createElement(it,{style:{background:"#fff",flex:1}},n.createElement("div",{style:{display:"flex",flexDirection:"row"}},n.createElement("div",{style:{display:"flex",padding:16,flex:5,flexDirection:"column",borderRight:"0.1px solid",borderColor:"#efefef"}},n.createElement(et.a,{getContainer:function(){return document.getElementById("rootLayout")}},this.loop(tt))),n.createElement("div",{style:{display:"flex",padding:16,flex:19,flexDirection:"column"}},ot.map((function(e){return n.createElement(ct,{data:e})}))))))}}]),t}(n.Component),st=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u63cf\u8ff0",dataIndex:"desc",key:"desc"},{title:"\u9ed8\u8ba4\u503c",dataIndex:"value",key:"value"}];function ct(e){var t=e.data,a=void 0;t.params&&t.params.length>0&&(a=[],t.params.forEach((function(e){var t,n;a.push({name:e[0],desc:null!==(t=e[1])&&void 0!==t?t:"\u65e0",value:null!==(n=e[2])&&void 0!==n?n:"\u65e0"})})));var r=!0,i=!0;t.support_platform&&(r=t.support_platform.ios,i=t.support_platform.android);var o=!0,l=!0;return t.support_framework&&(o=t.support_framework.airtest,l=t.support_framework.poco),n.createElement("a",{name:t.id||t.title,style:{margin:16}},n.createElement(Ve.a,null,n.createElement(at,{level:4},t.title),t.desc&&n.createElement(nt,null,t.desc),t.params&&n.createElement(n.Fragment,null,n.createElement("span",null,"\u5e73\u53f0\u652f\u6301:"),n.createElement("br",null),n.createElement(te.a,{defaultChecked:r,disabled:!0},"\u652f\u6301IOS"),n.createElement("br",null),n.createElement(te.a,{defaultChecked:i,disabled:!0},"\u652f\u6301Android"),n.createElement("br",null),n.createElement("br",null)),t.params&&n.createElement(n.Fragment,null,n.createElement("span",null,"\u6d4b\u8bd5\u6846\u67b6\u652f\u6301:"),n.createElement("br",null),n.createElement(te.a,{defaultChecked:l,disabled:!0},"\u652f\u6301POCO"),n.createElement("br",null),n.createElement(te.a,{defaultChecked:o,disabled:!0},"\u652f\u6301Airtest"))),t.imgs&&t.imgs.map((function(e){return n.createElement("div",{style:{marginTop:16}},n.createElement("p",null,e[1]),n.createElement("img",{src:e[0],alt:"",style:{width:"80%"}}))})),a&&n.createElement(U.a,{style:{marginTop:16},columns:st,dataSource:a,size:"small",title:function(){return"\u53c2\u6570"},pagination:!1}))}var dt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"relative",height:"100vh"}},r.a.createElement(p.a,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",render:function(e){return r.a.createElement(E,e,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/test_pages",component:Ce}),r.a.createElement(f.b,{exact:!0,path:"/test_plans",component:Pe}),r.a.createElement(f.b,{exact:!0,path:"/test_exec",component:Xe}),r.a.createElement(f.b,{exact:!0,path:"/guide",component:lt}),r.a.createElement(f.a,{path:"/",to:"/test_pages"})))}}))))}}]),t}(n.Component);o.a.render(r.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[341,1,2]]]);
//# sourceMappingURL=main.c82c31f2.chunk.js.map